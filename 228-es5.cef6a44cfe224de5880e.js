!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[228],{5480:function(e,o,i){i.d(o,{q:function(){return c}});var r,a=i(1095),u=i(9983),p=i(7716),c=((r=t(function e(){n(this,e)})).\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[a.ot,u.c]}),r)},6228:function(e,o,i){i.r(o),i.d(o,{PayoutSettingModule:function(){return B}});var r,a=i(8583),u=i(3423),p=i(1068),c=i(2340),s=i(8259),m=i.n(s),l=i(7716),d=i(2567),g=i(1841),f=i(4889),y=((r=t(function e(t,o){n(this,e),this.http=t,this.errorService=o,this.BASE_API_URL=c.N.BASE_API_URL,this.gameTypes=[]})).\u0275fac=function(e){return new(e||r)(l.LFG(g.eN),l.LFG(f.T))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r),T=i(3535),h=i(8295),Z=i(3679),v=i(9983),A=i(1095);function b(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l.TgZ(6,"mat-form-field",6),l.TgZ(7,"input",7),l.NdJ("ngModelChange",function(e){return t.$implicit.payout=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"td"),l.TgZ(9,"mat-form-field",6),l.TgZ(10,"input",7),l.NdJ("ngModelChange",function(e){return t.$implicit.multiplexer=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"td"),l.TgZ(12,"div",8),l.TgZ(13,"button",9),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw().updatePayout(e.gameTypeId,e.payout,e.multiplexer)}),l._uU(14,"Save"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var o=t.$implicit,i=t.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.Oqu(1!=o.gameTypeId?2!=o.gameTypeId?5!=o.gameTypeId?o.gameTypeName:"Double (Triple Chance)":"Triple (Triple Chance)":"Triple Chance"),l.xp6(3),l.Q6J("disabled",2==o.gameTypeId||5==o.gameTypeId||8==o.gameTypeId||9==o.gameTypeId)("value",o.payout)("ngModel",o.payout),l.xp6(3),l.Q6J("disabled",2==o.gameTypeId||5==o.gameTypeId||8==o.gameTypeId||9==o.gameTypeId)("value",o.multiplexer)("ngModel",o.multiplexer)}}var q=[{path:"",canActivate:[p.m],component:function(){var e=function(){function e(t,o,i){var r=this;n(this,e),this.gameTypeService=t,this.payoutSettingService=o,this.authService=i,this.isProduction=c.N.production,this.showDevArea=!1,this.gameTypes=[],this.saveButton=!1,this.displayedColumns=["position","gameTypeName","mrp","winningPrice","commission","payout"],this.gameTypes=this.gameTypeService.getGameType(),this.gameTypeService.getGameTypeListener().subscribe(function(e){r.gameTypes=e,r.gameTypes=r.gameTypes.filter(function(e){return 1===e.gameTypeId||3===e.gameTypeId||4===e.gameTypeId||6===e.gameTypeId||7===e.gameTypeId})})}return t(e,[{key:"ngOnInit",value:function(){}},{key:"updatePayout",value:function(e,t,n){var o=this;n>10?m().fire({position:"top-end",icon:"error",title:"Invalid multiplexer",showConfirmButton:!1,timer:3e3}):m().fire({title:"Confirmation",text:"Do you sure to update payout?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(function(i){if(i.isConfirmed){var r=[];r.push({gameTypeId:e,newPayout:t,multiplexer:n}),o.gameTypeService.updatePayout(r).subscribe(function(e){1===e.success?m().fire({position:"top-end",icon:"success",title:"Payout updated",showConfirmButton:!1,timer:1e3}):m().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},function(e){console.log("data saving error",e)})}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(d.u),l.Y36(y),l.Y36(T.e))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-payout-setting"]],decls:19,vars:1,consts:[[1,"container","pt-5"],[1,"table","table-bordered","table-sm",2,"border","none !important"],["scope","colgroup","colspan","6",1,"text-center"],["mat-sort-header","terminalName"],["mat-sort-header","stockistName"],[4,"ngFor","ngForOf"],["floatLabel","never"],["type","number","name","payout","matInput","","placeholder","payout","required","",3,"disabled","value","ngModel","ngModelChange"],[1,"offset-5"],["mat-raised-button","","color","primary","mat-stroked-button","",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"table",1),l.TgZ(2,"thead"),l.TgZ(3,"tr"),l.TgZ(4,"th",2),l._uU(5,"Set Payout"),l.qZA(),l.qZA(),l.TgZ(6,"tr"),l.TgZ(7,"th"),l._uU(8,"Sl. No."),l.qZA(),l.TgZ(9,"th",3),l._uU(10,"Game name"),l.qZA(),l.TgZ(11,"th",4),l._uU(12,"Payout"),l.qZA(),l.TgZ(13,"th",4),l._uU(14,"Multiplexer"),l.qZA(),l.TgZ(15,"th",4),l._uU(16,"Save"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"tbody"),l.YNc(18,b,15,8,"tr",5),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(18),l.Q6J("ngForOf",t.gameTypes))},directives:[a.sg,h.KE,Z.wV,v.Nt,Z.Fj,Z.Q7,Z.JJ,Z.On,A.lW],styles:[""]}),e}()}],I=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[u.Bz.forChild(q)],u.Bz]}),e}(),w=i(2789),C=i(5396),S=i(7441),x=i(5480),B=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.ez,I,w.p0,C.rP,S.LD,Z.u5,Z.UX,v.c,x.q]]}),e}()}}])}();