!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[103],{2103:function(e,r,i){i.d(r,{q:function(){return O}});var n=i(3423),o=i(1068),d=i(9925),l=i(2340),c=i(8259),s=i.n(c),u=i(8583),g=i(7716),m=i(1140),p=i(5939),Z=i(8295),h=i(9983),f=i(3220),q=i(3679),b=i(1095),T=i(1494),A=i(346);function _(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.qZA()),2&t){var a=e.$implicit;g.xp6(2),g.Oqu(a.terminal_pin),g.xp6(2),g.Oqu(a.stockist_name),g.xp6(2),g.Oqu(a.total),g.xp6(2),g.Oqu(a.commission),g.xp6(2),g.Oqu(a.prize_value),g.xp6(2),g.Oqu(a.total-a.commission-a.prize_value)}}function v(t,e){1&t&&(g.TgZ(0,"div",31),g.TgZ(1,"h1"),g._uU(2,"No Data"),g.qZA(),g.qZA())}function x(t,e){if(1&t){var a=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA(),g.TgZ(17,"td"),g.TgZ(18,"a",32),g.NdJ("click",function(){var t=g.CHM(a).$implicit,e=g.oxw();return g.MAs(95).show(),e.openPopup(t.play_master_id,t.barcode_number)}),g._UZ(19,"i",33),g.qZA(),g.qZA(),g.qZA()}if(2&t){var r=e.$implicit;g.xp6(2),g.Oqu(r.barcode_number),g.xp6(2),g.Oqu(r.draw_time),g.xp6(2),g.Oqu(r.terminal_pin),g.xp6(2),g.Oqu("SINGLE DOUBLE TRIPLE"==r.game_name?"Triple chance":r.game_name),g.xp6(2),g.Oqu(r.ticket_taken_time),g.xp6(2),g.Oqu(r.total_quantity),g.xp6(2),g.Oqu(r.amount),g.xp6(2),g.Oqu(r.prize_value)}}function D(t,e){1&t&&(g.TgZ(0,"div",31),g.TgZ(1,"h1"),g._uU(2,"No Data"),g.qZA(),g.qZA())}function y(t,e){1&t&&(g.TgZ(0,"span"),g._uU(1,"Single"),g.qZA())}function U(t,e){if(1&t&&(g.TgZ(0,"button",46),g._uU(1),g.qZA()),2&t){var a=e.$implicit;g.s9C("matBadge",a.quantity),g.xp6(1),g.Oqu(a.single_number)}}function k(t,e){1&t&&(g.TgZ(0,"span"),g._uU(1,"Triple"),g.qZA())}function R(t,e){if(1&t&&(g.TgZ(0,"div",48),g.TgZ(1,"button",49),g._uU(2),g.qZA(),g.qZA()),2&t){var a=e.$implicit;g.xp6(1),g.s9C("matBadge",a.quantity),g.Q6J("matBadgeHidden",!1),g.xp6(1),g.hij(" ",a.visible_triple_number," ")}}function S(t,e){if(1&t&&(g.TgZ(0,"div",42),g.YNc(1,R,3,3,"div",47),g.qZA()),2&t){var a=e.index,r=g.oxw(2);g.xp6(1),g.Q6J("ngForOf",r.barcodeDetails.triple.slice(10*a,10*a+10))}}function w(t,e){if(1&t){var a=g.EpF();g.TgZ(0,"div",34),g.TgZ(1,"div",35),g.TgZ(2,"div",36),g.TgZ(3,"h4",37),g._uU(4),g.qZA(),g.TgZ(5,"button",38),g.NdJ("click",function(){return g.CHM(a),g.oxw(),g.MAs(95).hide()}),g.TgZ(6,"span",39),g._uU(7,"\xd7"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"div",40),g.YNc(9,y,2,0,"span",41),g.TgZ(10,"div",42),g.YNc(11,U,2,2,"button",43),g.qZA(),g.YNc(12,k,2,0,"span",41),g.YNc(13,S,2,1,"div",44),g.qZA(),g._UZ(14,"div",45),g.qZA(),g.qZA()}if(2&t){var r=g.oxw();g.xp6(4),g.hij(" Ticket: ",r.barcodeDetails.barcode," "),g.xp6(5),g.Q6J("ngIf",r.barcodeDetails.single.length),g.xp6(2),g.Q6J("ngForOf",r.barcodeDetails.single),g.xp6(1),g.Q6J("ngIf",r.barcodeDetails.triple.length),g.xp6(1),g.Q6J("ngForOf",r.barcodeDetails.triple.slice(0,r.barcodeDetails.triple.length%10==0?r.barcodeDetails.triple.length/10:r.barcodeDetails.triple.length/10+1))}}function M(t,e,a){return(t<e?-1:1)*(a?1:-1)}var F,J=[{path:"",canActivate:[o.m],component:(F=function(){function e(a){t(this,e),this.adminReportService=a,this.thisYear=(new Date).getFullYear(),this.thisMonth=(new Date).getMonth(),this.thisDay=(new Date).getDate(),this.startDate=new Date(this.thisYear,this.thisMonth,this.thisDay),this.isProduction=l.N.production,this.showDevArea=!1,this.barcodeReportRecords=[],this.customerSaleReportRecords=[],this.StartDateFilter=this.startDate,this.EndDateFilter=this.startDate,this.pipe=new u.uU("en-US"),this.totalAmount=0}return a(e,[{key:"ngOnInit",value:function(){var t=this;this.barcodeReportRecords=this.adminReportService.getBarcodeReportRecords(),this.adminReportService.getBarcodeReportListener().subscribe(function(e){t.barcodeReportRecords=e}),this.adminReportService.getLoadReports(),this.adminReportService.getLoadReportsListener().subscribe(function(e){t.loadReports=e}),this.customerSaleReportRecords=this.adminReportService.getCustomerSaleReportRecords(),this.adminReportService.getCustomerSaleReportListener().subscribe(function(e){t.customerSaleReportRecords=e;var a=0;t.customerSaleReportRecords.forEach(function(t){a+=Number(t.total)}),t.totalAmount=a}),this.searchByDateTab1(),this.searchByDateTab2()}},{key:"searchByDateTab1",value:function(){s().fire({title:"Please Wait !",html:"loading ...",allowOutsideClick:!1,didOpen:function(){s().showLoading()}});var t=this.pipe.transform(this.StartDateFilter,"yyyy-MM-dd"),e=this.pipe.transform(this.EndDateFilter,"yyyy-MM-dd");this.adminReportService.customerSaleReportByDate(t,e).subscribe(function(t){t.data&&s().close()})}},{key:"searchByDateTab2",value:function(){s().fire({title:"Please Wait !",html:"loading ...",allowOutsideClick:!1,didOpen:function(){s().showLoading()}});var t=this.pipe.transform(this.StartDateFilter,"yyyy-MM-dd"),e=this.pipe.transform(this.EndDateFilter,"yyyy-MM-dd");this.adminReportService.barcodeReportByDate(t,e).subscribe(function(t){t.data&&s().close()})}},{key:"sortData",value:function(t){var e=this.barcodeReportRecords.slice();this.barcodeReportRecords=t.active&&""!==t.direction?e.sort(function(e,a){var r="asc"===t.direction;switch(t.active){case"barcode_number":return M(e.barcode_number,a.barcode_number,r);case"draw_time":return M(e.draw_time,a.draw_time,r);case"terminal_pin":return M(e.terminal_pin,a.terminal_pin,r);case"ticket_taken_time":return M(e.ticket_taken_time,a.ticket_taken_time,r);case"total_quantity":return M(e.total_quantity,a.total_quantity,r);case"amount":return M(e.amount,a.amount,r);default:return 0}}):e}},{key:"openPopup",value:function(t,e){var a=this;this.adminReportService.getBarcodeDetails(t).subscribe(function(t){a.barcodeDetails=t.data})}}]),e}(),F.\u0275fac=function(t){return new(t||F)(g.Y36(m.Q))},F.\u0275cmp=g.Xpm({type:F,selectors:[["app-admin-reports"]],viewQuery:function(t,e){var a;1&t&&g.Gf(d.oB,5),2&t&&g.iGM(a=g.CRH())&&(e.modal=a.first)},decls:97,vars:22,consts:[[1,"mt-2","mr-3","ml-3"],["label","Customer sales report"],[1,"pt-1","d-flex"],[1,"col-3"],["appearance","fill"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"ngModel","ngModelChange"],["picker",""],["picker1",""],["mat-button","","color","accent",2,"font-size","20px",3,"click"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll",3,"matSortChange"],["mat-sort-header","terminal_pin"],["mat-sort-header","total"],["mat-sort-header","commission"],["mat-sort-header","prize_value"],["mat-sort-header","ntp"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["label","Barcode report"],[1,"text-center",2,"align-content","center","align-items","center","text-align","center"],["matSort","",1,"ml-4","col-11","table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll",3,"matSortChange"],["mat-sort-header","barcode_number"],["mat-sort-header","draw_time"],["mat-sort-header","ticket_taken_time"],["mat-sort-header","total_quantity"],["mat-sort-header","amount"],["label","Draw wise report"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","top",2,"overflow-y","auto"],["frame","mdbModal"],["class","modal-dialog modal-notify modal-info","role","document","style","min-width: 550px",4,"ngIf"],[1,"text-center"],["color","info","mdbWavesEffect","",1,"waves-effect","mb-4",3,"click"],[1,"bi","bi-info-square-fill"],["role","document",1,"modal-dialog","modal-notify","modal-info",2,"min-width","550px"],[1,"modal-content"],[1,"modal-header","text-center"],[1,"modal-title","white-text","font-weight-bold"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"white-text"],[1,"modal-body"],[4,"ngIf"],[1,"d-flex","flex-row","mt-2"],["class","mr-2",3,"matBadge",4,"ngFor","ngForOf"],["class","d-flex flex-row mt-2",4,"ngFor","ngForOf"],[1,"modal-footer","justify-content-center"],[1,"mr-2",3,"matBadge"],["colspan","2","class","text-center align-middle mr-3","style","max-width: 100% !important;",4,"ngFor","ngForOf"],["colspan","2",1,"text-center","align-middle","mr-3",2,"max-width","100% !important"],["mat-raised-button","","value","bold","name","fontStyle","aria-label","Font Style",2,"font-size","larger","min-width","97% !important","padding","0px !important","min-height","40px",3,"matBadge","matBadgeHidden"]],template:function(t,e){if(1&t&&(g.TgZ(0,"mat-tab-group",0),g.TgZ(1,"mat-tab",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"mat-form-field",4),g.TgZ(5,"mat-label"),g._uU(6,"Start date"),g.qZA(),g.TgZ(7,"input",5),g.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),g.qZA(),g._UZ(8,"mat-datepicker-toggle",6),g.TgZ(9,"mat-datepicker",7,8),g.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",3),g.TgZ(12,"mat-form-field",4),g.TgZ(13,"mat-label"),g._uU(14,"End date"),g.qZA(),g.TgZ(15,"input",5),g.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),g.qZA(),g._UZ(16,"mat-datepicker-toggle",6),g.TgZ(17,"mat-datepicker",7,9),g.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"button",10),g.NdJ("click",function(){return e.searchByDateTab1()}),g._uU(20,"Search"),g.qZA(),g.qZA(),g.TgZ(21,"table",11),g.NdJ("matSortChange",function(t){return e.sortData(t)}),g.TgZ(22,"thead"),g.TgZ(23,"tr"),g.TgZ(24,"th",12),g._uU(25,"Terminal Id"),g.qZA(),g.TgZ(26,"th",12),g._uU(27,"Stockist Name"),g.qZA(),g.TgZ(28,"th",13),g._uU(29,"Total"),g.qZA(),g.TgZ(30,"th",14),g._uU(31,"Commission"),g.qZA(),g.TgZ(32,"th",15),g._uU(33,"Prize"),g.qZA(),g.TgZ(34,"th",16),g._uU(35,"NTP"),g.qZA(),g._UZ(36,"th"),g.qZA(),g.qZA(),g.TgZ(37,"tbody"),g.YNc(38,_,13,6,"tr",17),g.TgZ(39,"tr"),g._UZ(40,"td"),g.TgZ(41,"td"),g._uU(42,"Grand Total"),g.qZA(),g.TgZ(43,"td"),g._uU(44),g.qZA(),g._UZ(45,"td"),g._UZ(46,"td"),g._UZ(47,"td"),g.qZA(),g.qZA(),g.qZA(),g.YNc(48,v,3,0,"div",18),g.qZA(),g.TgZ(49,"mat-tab",19),g.TgZ(50,"div",2),g.TgZ(51,"div",3),g.TgZ(52,"mat-form-field",4),g.TgZ(53,"mat-label"),g._uU(54,"Start date"),g.qZA(),g.TgZ(55,"input",5),g.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),g.qZA(),g._UZ(56,"mat-datepicker-toggle",6),g.TgZ(57,"mat-datepicker",7,8),g.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(59,"div",3),g.TgZ(60,"mat-form-field",4),g.TgZ(61,"mat-label"),g._uU(62,"End date"),g.qZA(),g.TgZ(63,"input",5),g.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),g.qZA(),g._UZ(64,"mat-datepicker-toggle",6),g.TgZ(65,"mat-datepicker",7,9),g.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(67,"button",10),g.NdJ("click",function(){return e.searchByDateTab2()}),g._uU(68,"Search"),g.qZA(),g.qZA(),g.TgZ(69,"div",20),g.TgZ(70,"table",21),g.NdJ("matSortChange",function(t){return e.sortData(t)}),g.TgZ(71,"thead"),g.TgZ(72,"tr"),g.TgZ(73,"th",22),g._uU(74,"Barcode"),g.qZA(),g.TgZ(75,"th",23),g._uU(76,"Draw time"),g.qZA(),g.TgZ(77,"th",12),g._uU(78,"Terminal"),g.qZA(),g.TgZ(79,"th",12),g._uU(80,"Game"),g.qZA(),g.TgZ(81,"th",24),g._uU(82,"Ticket take time"),g.qZA(),g.TgZ(83,"th",25),g._uU(84,"Quantity"),g.qZA(),g.TgZ(85,"th",26),g._uU(86,"Amount"),g.qZA(),g.TgZ(87,"th",15),g._uU(88,"Prize"),g.qZA(),g._UZ(89,"th"),g.qZA(),g.qZA(),g.TgZ(90,"tbody"),g.YNc(91,x,20,8,"tr",17),g.qZA(),g.qZA(),g.YNc(92,D,3,0,"div",18),g.qZA(),g.qZA(),g._UZ(93,"mat-tab",27),g.qZA(),g.TgZ(94,"div",28,29),g.YNc(96,w,15,5,"div",30),g.qZA()),2&t){var a=g.MAs(10),r=g.MAs(18);g.xp6(7),g.Q6J("matDatepicker",a)("ngModel",e.StartDateFilter),g.xp6(1),g.Q6J("for",a),g.xp6(1),g.Q6J("ngModel",e.StartDateFilter),g.xp6(6),g.Q6J("matDatepicker",r)("ngModel",e.EndDateFilter),g.xp6(1),g.Q6J("for",r),g.xp6(1),g.Q6J("ngModel",e.EndDateFilter),g.xp6(21),g.Q6J("ngForOf",e.customerSaleReportRecords),g.xp6(6),g.Oqu(e.totalAmount),g.xp6(4),g.Q6J("ngIf",0==e.customerSaleReportRecords.length),g.xp6(7),g.Q6J("matDatepicker",a)("ngModel",e.StartDateFilter),g.xp6(1),g.Q6J("for",a),g.xp6(1),g.Q6J("ngModel",e.StartDateFilter),g.xp6(6),g.Q6J("matDatepicker",r)("ngModel",e.EndDateFilter),g.xp6(1),g.Q6J("for",r),g.xp6(1),g.Q6J("ngModel",e.EndDateFilter),g.xp6(26),g.Q6J("ngForOf",e.barcodeReportRecords),g.xp6(1),g.Q6J("ngIf",0==e.barcodeReportRecords.length),g.xp6(4),g.Q6J("ngIf",e.barcodeDetails)}},directives:[p.SP,p.uX,Z.KE,Z.hX,h.Nt,f.hl,q.Fj,q.JJ,q.On,f.nW,Z.R9,f.Mq,b.lW,T.YE,T.nU,u.sg,u.O5,d.oB,d.b6,A.k],styles:[""]}),F),data:{title:"About",description:"Description Meta Tag Content",ogUrl:"your og url"}}],O=function(){var e=a(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[n.Bz.forChild(J)],n.Bz]}),e}()}}])}();