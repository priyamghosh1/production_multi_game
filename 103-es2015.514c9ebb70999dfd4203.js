"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[103],{2103:function(t,e,a){a.d(e,{q:function(){return F}});var i=a(3423),r=a(1068),o=a(9925),n=a(2340),d=a(8259),l=a.n(d),c=a(8583),s=a(7716),u=a(1140),g=a(5939),m=a(8295),Z=a(9983),p=a(3220),h=a(3679),q=a(1095),f=a(1494),b=a(346);function T(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Oqu(t.terminal_pin),s.xp6(2),s.Oqu(t.stockist_name),s.xp6(2),s.Oqu(t.total),s.xp6(2),s.Oqu(t.commission),s.xp6(2),s.Oqu(t.prize_value),s.xp6(2),s.Oqu(t.total-t.commission-t.prize_value)}}function _(t,e){1&t&&(s.TgZ(0,"div",31),s.TgZ(1,"h1"),s._uU(2,"No Data"),s.qZA(),s.qZA())}function A(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s._uU(16),s.qZA(),s.TgZ(17,"td"),s._uU(18),s.qZA(),s.TgZ(19,"td"),s.TgZ(20,"a",32),s.NdJ("click",function(){const e=s.CHM(t).$implicit,a=s.oxw();return s.MAs(97).show(),a.openPopup(e.play_master_id,e.barcode_number)}),s._UZ(21,"i",33),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Oqu(t.barcode_number),s.xp6(2),s.Oqu(t.draw_time),s.xp6(2),s.Oqu(t.terminal_pin),s.xp6(2),s.Oqu("SINGLE DOUBLE TRIPLE"==t.game_name?"Triple chance":t.game_name),s.xp6(2),s.Oqu(t.ticket_taken_time),s.xp6(2),s.Oqu(t.total_quantity),s.xp6(2),s.Oqu(t.amount),s.xp6(2),s.Oqu(t.prize_value>0&&0==t.is_claimed?t.prize_value:"--"),s.xp6(2),s.Oqu(t.prize_value>0&&1==t.is_claimed?t.prize_value:"--")}}function x(t,e){1&t&&(s.TgZ(0,"div",31),s.TgZ(1,"h1"),s._uU(2,"No Data"),s.qZA(),s.qZA())}function D(t,e){1&t&&(s.TgZ(0,"span"),s._uU(1,"Single"),s.qZA())}function U(t,e){if(1&t&&(s.TgZ(0,"button",46),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.s9C("matBadge",t.quantity),s.xp6(1),s.Oqu(t.single_number)}}function v(t,e){1&t&&(s.TgZ(0,"span"),s._uU(1,"Single"),s.qZA())}function y(t,e){if(1&t&&(s.TgZ(0,"button",46),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.s9C("matBadge",t.quantity),s.xp6(1),s.Oqu(t.visible_double_number)}}function S(t,e){1&t&&(s.TgZ(0,"span"),s._uU(1,"Triple"),s.qZA())}function R(t,e){if(1&t&&(s.TgZ(0,"div",48),s.TgZ(1,"button",49),s._uU(2),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.s9C("matBadge",t.quantity),s.Q6J("matBadgeHidden",!1),s.xp6(1),s.hij(" ",t.visible_triple_number," ")}}function k(t,e){if(1&t&&(s.TgZ(0,"div",42),s.YNc(1,R,3,3,"div",47),s.qZA()),2&t){const t=e.index,a=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",a.barcodeDetails.triple.slice(10*t,10*t+10))}}function M(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",34),s.TgZ(1,"div",35),s.TgZ(2,"div",36),s.TgZ(3,"h4",37),s._uU(4),s.qZA(),s.TgZ(5,"button",38),s.NdJ("click",function(){return s.CHM(t),s.oxw(),s.MAs(97).hide()}),s.TgZ(6,"span",39),s._uU(7,"\xd7"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",40),s.YNc(9,D,2,0,"span",41),s.TgZ(10,"div",42),s.YNc(11,U,2,2,"button",43),s.qZA(),s.YNc(12,v,2,0,"span",41),s.TgZ(13,"div",42),s.YNc(14,y,2,2,"button",43),s.qZA(),s.YNc(15,S,2,0,"span",41),s.YNc(16,k,2,1,"div",44),s.qZA(),s._UZ(17,"div",45),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(4),s.hij(" Ticket: ",t.barcodeDetails.barcode," "),s.xp6(5),s.Q6J("ngIf",t.barcodeDetails.single.length),s.xp6(2),s.Q6J("ngForOf",t.barcodeDetails.single),s.xp6(1),s.Q6J("ngIf",t.barcodeDetails.double.length),s.xp6(2),s.Q6J("ngForOf",t.barcodeDetails.double),s.xp6(1),s.Q6J("ngIf",t.barcodeDetails.triple.length),s.xp6(1),s.Q6J("ngForOf",t.barcodeDetails.triple.slice(0,t.barcodeDetails.triple.length%10==0?t.barcodeDetails.triple.length/10:t.barcodeDetails.triple.length/10+1))}}function w(t,e,a){return(t<e?-1:1)*(a?1:-1)}const J=[{path:"",canActivate:[r.m],component:(()=>{class t{constructor(t){this.adminReportService=t,this.thisYear=(new Date).getFullYear(),this.thisMonth=(new Date).getMonth(),this.thisDay=(new Date).getDate(),this.startDate=new Date(this.thisYear,this.thisMonth,this.thisDay),this.isProduction=n.N.production,this.showDevArea=!1,this.barcodeReportRecords=[],this.customerSaleReportRecords=[],this.StartDateFilter=this.startDate,this.EndDateFilter=this.startDate,this.pipe=new c.uU("en-US"),this.totalAmount=0}ngOnInit(){this.barcodeReportRecords=this.adminReportService.getBarcodeReportRecords(),this.adminReportService.getBarcodeReportListener().subscribe(t=>{this.barcodeReportRecords=t}),this.adminReportService.getLoadReportsListener().subscribe(t=>{this.loadReports=t}),this.customerSaleReportRecords=this.adminReportService.getCustomerSaleReportRecords(),this.adminReportService.getCustomerSaleReportListener().subscribe(t=>{this.customerSaleReportRecords=t;let e=0;this.customerSaleReportRecords.forEach(function(t){e+=Number(t.total)}),this.totalAmount=e}),this.searchByDateTab1(),this.searchByDateTab2()}searchByDateTab1(){l().fire({title:"Please Wait !",html:"loading ...",allowOutsideClick:!1,didOpen:()=>{l().showLoading()}});var t=this.pipe.transform(this.StartDateFilter,"yyyy-MM-dd"),e=this.pipe.transform(this.EndDateFilter,"yyyy-MM-dd");this.adminReportService.customerSaleReportByDate(t,e).subscribe(t=>{t.data&&l().close()})}searchByDateTab2(){l().fire({title:"Please Wait !",html:"loading ...",allowOutsideClick:!1,didOpen:()=>{l().showLoading()}});var t=this.pipe.transform(this.StartDateFilter,"yyyy-MM-dd"),e=this.pipe.transform(this.EndDateFilter,"yyyy-MM-dd");this.adminReportService.barcodeReportByDate(t,e).subscribe(t=>{t.data&&l().close()})}sortData(t){const e=this.barcodeReportRecords.slice();this.barcodeReportRecords=t.active&&""!==t.direction?e.sort((e,a)=>{const i="asc"===t.direction;switch(t.active){case"barcode_number":return w(e.barcode_number,a.barcode_number,i);case"draw_time":return w(e.draw_time,a.draw_time,i);case"terminal_pin":return w(e.terminal_pin,a.terminal_pin,i);case"ticket_taken_time":return w(e.ticket_taken_time,a.ticket_taken_time,i);case"total_quantity":return w(e.total_quantity,a.total_quantity,i);case"amount":return w(e.amount,a.amount,i);default:return 0}}):e}openPopup(t,e){this.adminReportService.getBarcodeDetails(t).subscribe(t=>{this.barcodeDetails=t.data,console.log(this.barcodeDetails)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(u.Q))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-admin-reports"]],viewQuery:function(t,e){if(1&t&&s.Gf(o.oB,5),2&t){let t;s.iGM(t=s.CRH())&&(e.modal=t.first)}},decls:99,vars:22,consts:[[1,"mt-2","mr-3","ml-3"],["label","Customer sales report"],[1,"pt-1","d-flex"],[1,"col-3"],["appearance","fill"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"ngModel","ngModelChange"],["picker",""],["picker1",""],["mat-button","","color","accent",2,"font-size","20px",3,"click"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll",3,"matSortChange"],["mat-sort-header","terminal_pin"],["mat-sort-header","total"],["mat-sort-header","commission"],["mat-sort-header","prize_value"],["mat-sort-header","ntp"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["label","Barcode report"],[1,"text-center",2,"align-content","center","align-items","center","text-align","center"],["matSort","",1,"ml-4","col-11","table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll",3,"matSortChange"],["mat-sort-header","barcode_number"],["mat-sort-header","draw_time"],["mat-sort-header","ticket_taken_time"],["mat-sort-header","total_quantity"],["mat-sort-header","amount"],["label","Draw wise report"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","top",2,"overflow-y","auto"],["frame","mdbModal"],["class","modal-dialog modal-notify modal-info","role","document","style","min-width: 550px",4,"ngIf"],[1,"text-center"],["color","info","mdbWavesEffect","",1,"waves-effect","mb-4",3,"click"],[1,"bi","bi-info-square-fill"],["role","document",1,"modal-dialog","modal-notify","modal-info",2,"min-width","550px"],[1,"modal-content"],[1,"modal-header","text-center"],[1,"modal-title","white-text","font-weight-bold"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"white-text"],[1,"modal-body"],[4,"ngIf"],[1,"d-flex","flex-row","mt-2"],["class","mr-2",3,"matBadge",4,"ngFor","ngForOf"],["class","d-flex flex-row mt-2",4,"ngFor","ngForOf"],[1,"modal-footer","justify-content-center"],[1,"mr-2",3,"matBadge"],["colspan","2","class","text-center align-middle mr-3","style","max-width: 100% !important;",4,"ngFor","ngForOf"],["colspan","2",1,"text-center","align-middle","mr-3",2,"max-width","100% !important"],["mat-raised-button","","value","bold","name","fontStyle","aria-label","Font Style",2,"font-size","larger","min-width","97% !important","padding","0px !important","min-height","40px",3,"matBadge","matBadgeHidden"]],template:function(t,e){if(1&t&&(s.TgZ(0,"mat-tab-group",0),s.TgZ(1,"mat-tab",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"mat-form-field",4),s.TgZ(5,"mat-label"),s._uU(6,"Start date"),s.qZA(),s.TgZ(7,"input",5),s.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),s.qZA(),s._UZ(8,"mat-datepicker-toggle",6),s.TgZ(9,"mat-datepicker",7,8),s.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",3),s.TgZ(12,"mat-form-field",4),s.TgZ(13,"mat-label"),s._uU(14,"End date"),s.qZA(),s.TgZ(15,"input",5),s.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),s.qZA(),s._UZ(16,"mat-datepicker-toggle",6),s.TgZ(17,"mat-datepicker",7,9),s.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"button",10),s.NdJ("click",function(){return e.searchByDateTab1()}),s._uU(20,"Search"),s.qZA(),s.qZA(),s.TgZ(21,"table",11),s.NdJ("matSortChange",function(t){return e.sortData(t)}),s.TgZ(22,"thead"),s.TgZ(23,"tr"),s.TgZ(24,"th",12),s._uU(25,"Terminal Id"),s.qZA(),s.TgZ(26,"th",12),s._uU(27,"Stockist Name"),s.qZA(),s.TgZ(28,"th",13),s._uU(29,"Total"),s.qZA(),s.TgZ(30,"th",14),s._uU(31,"Commission"),s.qZA(),s.TgZ(32,"th",15),s._uU(33,"Prize"),s.qZA(),s.TgZ(34,"th",16),s._uU(35,"NTP"),s.qZA(),s._UZ(36,"th"),s.qZA(),s.qZA(),s.TgZ(37,"tbody"),s.YNc(38,T,13,6,"tr",17),s.TgZ(39,"tr"),s._UZ(40,"td"),s.TgZ(41,"td"),s._uU(42,"Grand Total"),s.qZA(),s.TgZ(43,"td"),s._uU(44),s.qZA(),s._UZ(45,"td"),s._UZ(46,"td"),s._UZ(47,"td"),s.qZA(),s.qZA(),s.qZA(),s.YNc(48,_,3,0,"div",18),s.qZA(),s.TgZ(49,"mat-tab",19),s.TgZ(50,"div",2),s.TgZ(51,"div",3),s.TgZ(52,"mat-form-field",4),s.TgZ(53,"mat-label"),s._uU(54,"Start date"),s.qZA(),s.TgZ(55,"input",5),s.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),s.qZA(),s._UZ(56,"mat-datepicker-toggle",6),s.TgZ(57,"mat-datepicker",7,8),s.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(59,"div",3),s.TgZ(60,"mat-form-field",4),s.TgZ(61,"mat-label"),s._uU(62,"End date"),s.qZA(),s.TgZ(63,"input",5),s.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),s.qZA(),s._UZ(64,"mat-datepicker-toggle",6),s.TgZ(65,"mat-datepicker",7,9),s.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(67,"button",10),s.NdJ("click",function(){return e.searchByDateTab2()}),s._uU(68,"Search"),s.qZA(),s.qZA(),s.TgZ(69,"div",20),s.TgZ(70,"table",21),s.NdJ("matSortChange",function(t){return e.sortData(t)}),s.TgZ(71,"thead"),s.TgZ(72,"tr"),s.TgZ(73,"th",22),s._uU(74,"Barcode"),s.qZA(),s.TgZ(75,"th",23),s._uU(76,"Draw time"),s.qZA(),s.TgZ(77,"th",12),s._uU(78,"Terminal"),s.qZA(),s.TgZ(79,"th",12),s._uU(80,"Game"),s.qZA(),s.TgZ(81,"th",24),s._uU(82,"Ticket take time"),s.qZA(),s.TgZ(83,"th",25),s._uU(84,"Quantity"),s.qZA(),s.TgZ(85,"th",26),s._uU(86,"Amount"),s.qZA(),s.TgZ(87,"th",15),s._uU(88,"UnClaimed Amount"),s.qZA(),s.TgZ(89,"th",15),s._uU(90,"Claimed Amount"),s.qZA(),s._UZ(91,"th"),s.qZA(),s.qZA(),s.TgZ(92,"tbody"),s.YNc(93,A,22,9,"tr",17),s.qZA(),s.qZA(),s.YNc(94,x,3,0,"div",18),s.qZA(),s.qZA(),s._UZ(95,"mat-tab",27),s.qZA(),s.TgZ(96,"div",28,29),s.YNc(98,M,18,7,"div",30),s.qZA()),2&t){const t=s.MAs(10),a=s.MAs(18);s.xp6(7),s.Q6J("matDatepicker",t)("ngModel",e.StartDateFilter),s.xp6(1),s.Q6J("for",t),s.xp6(1),s.Q6J("ngModel",e.StartDateFilter),s.xp6(6),s.Q6J("matDatepicker",a)("ngModel",e.EndDateFilter),s.xp6(1),s.Q6J("for",a),s.xp6(1),s.Q6J("ngModel",e.EndDateFilter),s.xp6(21),s.Q6J("ngForOf",e.customerSaleReportRecords),s.xp6(6),s.Oqu(e.totalAmount),s.xp6(4),s.Q6J("ngIf",0==e.customerSaleReportRecords.length),s.xp6(7),s.Q6J("matDatepicker",t)("ngModel",e.StartDateFilter),s.xp6(1),s.Q6J("for",t),s.xp6(1),s.Q6J("ngModel",e.StartDateFilter),s.xp6(6),s.Q6J("matDatepicker",a)("ngModel",e.EndDateFilter),s.xp6(1),s.Q6J("for",a),s.xp6(1),s.Q6J("ngModel",e.EndDateFilter),s.xp6(28),s.Q6J("ngForOf",e.barcodeReportRecords),s.xp6(1),s.Q6J("ngIf",0==e.barcodeReportRecords.length),s.xp6(4),s.Q6J("ngIf",e.barcodeDetails)}},directives:[g.SP,g.uX,m.KE,m.hX,Z.Nt,p.hl,h.Fj,h.JJ,h.On,p.nW,m.R9,p.Mq,q.lW,f.YE,f.nU,c.sg,c.O5,o.oB,o.b6,b.k],styles:[""]}),t})(),data:{title:"About",description:"Description Meta Tag Content",ogUrl:"your og url"}}];let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.Bz.forChild(J)],i.Bz]}),t})()}}]);