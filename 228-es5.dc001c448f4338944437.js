!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[228],{5480:function(e,i,o){o.d(i,{q:function(){return p}});var r,a=o(1095),u=o(9983),c=o(7716),p=((r=t(function e(){n(this,e)})).\u0275fac=function(e){return new(e||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[a.ot,u.c]}),r)},6228:function(e,i,o){o.r(i),o.d(i,{PayoutSettingModule:function(){return _}});var r,a=o(8583),u=o(3423),c=o(1068),p=o(2340),s=o(8259),m=o.n(s),l=o(7716),d=o(2567),g=o(1841),f=o(4889),y=((r=t(function e(t,i){n(this,e),this.http=t,this.errorService=i,this.BASE_API_URL=p.N.BASE_API_URL,this.gameTypes=[]})).\u0275fac=function(e){return new(e||r)(l.LFG(g.eN),l.LFG(f.T))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r),T=o(3535),Z=o(8295),h=o(3679),v=o(9983),A=o(1095);function q(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l.TgZ(12,"mat-form-field",8),l.TgZ(13,"input",9),l.NdJ("ngModelChange",function(e){return t.$implicit.payout=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(14,"td"),l.TgZ(15,"mat-form-field",8),l.TgZ(16,"input",9),l.NdJ("ngModelChange",function(e){return t.$implicit.multiplexer=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"td"),l.TgZ(18,"div",10),l.TgZ(19,"button",11),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw().updatePayout(e.gameTypeId,e.payout,e.multiplexer)}),l._uU(20,"Save"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,o=t.index;l.xp6(2),l.Oqu(o+1),l.xp6(2),l.Oqu(1!=i.gameTypeId?2!=i.gameTypeId?5!=i.gameTypeId?i.gameTypeName:"Double (Triple Chance)":"Triple (Triple Chance)":"Single (Triple Chance)"),l.xp6(2),l.Oqu(i.mrp),l.xp6(2),l.Oqu(i.winningPrice),l.xp6(2),l.Oqu(i.commission),l.xp6(3),l.Q6J("disabled",2==i.gameTypeId||5==i.gameTypeId||8==i.gameTypeId||9==i.gameTypeId)("value",i.payout)("ngModel",i.payout),l.xp6(3),l.Q6J("disabled",2==i.gameTypeId||5==i.gameTypeId||8==i.gameTypeId||9==i.gameTypeId)("value",i.multiplexer)("ngModel",i.multiplexer)}}var b=[{path:"",canActivate:[c.m],component:function(){var e=function(){function e(t,i,o){var r=this;n(this,e),this.gameTypeService=t,this.payoutSettingService=i,this.authService=o,this.isProduction=p.N.production,this.showDevArea=!1,this.gameTypes=[],this.saveButton=!1,this.displayedColumns=["position","gameTypeName","mrp","winningPrice","commission","payout"],this.gameTypes=this.gameTypeService.getGameType(),this.gameTypeService.getGameTypeListener().subscribe(function(e){r.gameTypes=e})}return t(e,[{key:"ngOnInit",value:function(){}},{key:"updatePayout",value:function(e,t,n){var i=this;n>10?m().fire({position:"top-end",icon:"error",title:"Invalid multiplexer",showConfirmButton:!1,timer:3e3}):m().fire({title:"Confirmation",text:"Do you sure to update payout?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(function(o){if(o.isConfirmed){var r=[];r.push({gameTypeId:e,newPayout:t,multiplexer:n}),i.gameTypeService.updatePayout(r).subscribe(function(e){1===e.success?m().fire({position:"top-end",icon:"success",title:"Payout updated",showConfirmButton:!1,timer:1e3}):m().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},function(e){console.log("data saving error",e)})}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(d.u),l.Y36(y),l.Y36(T.e))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-payout-setting"]],decls:25,vars:1,consts:[[1,"container","pt-5"],[1,"table","table-bordered","table-sm",2,"border","none !important"],["scope","colgroup","colspan","6",1,"text-center"],["mat-sort-header","terminalName"],["mat-sort-header","pin"],["mat-sort-header","balance"],["mat-sort-header","stockistName"],[4,"ngFor","ngForOf"],["floatLabel","never"],["type","number","name","payout","matInput","","placeholder","payout","required","",3,"disabled","value","ngModel","ngModelChange"],[1,"offset-5"],["mat-raised-button","","color","primary","mat-stroked-button","",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"table",1),l.TgZ(2,"thead"),l.TgZ(3,"tr"),l.TgZ(4,"th",2),l._uU(5,"Set Payout"),l.qZA(),l.qZA(),l.TgZ(6,"tr"),l.TgZ(7,"th"),l._uU(8,"Sl. No."),l.qZA(),l.TgZ(9,"th",3),l._uU(10,"Game name"),l.qZA(),l.TgZ(11,"th",4),l._uU(12,"MRP"),l.qZA(),l.TgZ(13,"th",5),l._uU(14,"Winning Price"),l.qZA(),l.TgZ(15,"th",5),l._uU(16,"Commission"),l.qZA(),l.TgZ(17,"th",6),l._uU(18,"Payout"),l.qZA(),l.TgZ(19,"th",6),l._uU(20,"Multiplexer"),l.qZA(),l.TgZ(21,"th",6),l._uU(22,"Save"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"tbody"),l.YNc(24,q,21,11,"tr",7),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(24),l.Q6J("ngForOf",t.gameTypes))},directives:[a.sg,Z.KE,h.wV,v.Nt,h.Fj,h.Q7,h.JJ,h.On,A.lW],styles:[""]}),e}()}],w=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[u.Bz.forChild(b)],u.Bz]}),e}(),C=o(2789),x=o(5396),I=o(7441),S=o(5480),_=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.ez,w,C.p0,x.rP,I.LD,h.u5,h.UX,v.c,S.q]]}),e}()}}])}();