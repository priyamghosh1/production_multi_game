!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[228],{5480:function(e,i,o){o.d(i,{q:function(){return c}});var r,a=o(1095),u=o(9983),p=o(7716),c=((r=t(function e(){n(this,e)})).\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[a.ot,u.c]}),r)},6228:function(e,i,o){o.r(i),o.d(i,{PayoutSettingModule:function(){return P}});var r,a=o(8583),u=o(3423),p=o(1068),c=o(2340),s=o(8259),m=o.n(s),d=o(7716),l=o(2567),g=o(1841),f=o(4889),y=((r=t(function e(t,i){n(this,e),this.http=t,this.errorService=i,this.BASE_API_URL=c.N.BASE_API_URL,this.gameTypes=[]})).\u0275fac=function(e){return new(e||r)(d.LFG(g.eN),d.LFG(f.T))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r),T=o(3535),Z=o(8295),h=o(3679),v=o(9983),A=o(1095);function q(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d.TgZ(12,"mat-form-field",8),d.TgZ(13,"input",9),d.NdJ("ngModelChange",function(e){return t.$implicit.payout=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"td"),d.TgZ(15,"mat-form-field",8),d.TgZ(16,"input",9),d.NdJ("ngModelChange",function(e){return t.$implicit.multiplexer=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"td"),d.TgZ(18,"div",10),d.TgZ(19,"button",11),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw().updatePayout(e.gameTypeId,e.payout,e.multiplexer)}),d._uU(20,"Save"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,o=t.index;d.xp6(2),d.Oqu(o+1),d.xp6(2),d.Oqu(1!=i.gameTypeId?2!=i.gameTypeId?5!=i.gameTypeId?i.gameTypeName:"Double (Triple Chance)":"Triple (Triple Chance)":"Triple Chance"),d.xp6(2),d.Oqu(i.mrp),d.xp6(2),d.Oqu(i.winningPrice),d.xp6(2),d.Oqu(i.commission),d.xp6(3),d.Q6J("disabled",2==i.gameTypeId||5==i.gameTypeId||8==i.gameTypeId||9==i.gameTypeId)("value",i.payout)("ngModel",i.payout),d.xp6(3),d.Q6J("disabled",2==i.gameTypeId||5==i.gameTypeId||8==i.gameTypeId||9==i.gameTypeId)("value",i.multiplexer)("ngModel",i.multiplexer)}}var b=[{path:"",canActivate:[p.m],component:function(){var e=function(){function e(t,i,o){var r=this;n(this,e),this.gameTypeService=t,this.payoutSettingService=i,this.authService=o,this.isProduction=c.N.production,this.showDevArea=!1,this.gameTypes=[],this.saveButton=!1,this.displayedColumns=["position","gameTypeName","mrp","winningPrice","commission","payout"],this.gameTypes=this.gameTypeService.getGameType(),this.gameTypeService.getGameTypeListener().subscribe(function(e){r.gameTypes=e,r.gameTypes=r.gameTypes.filter(function(e){return 1===e.gameTypeId||3===e.gameTypeId||4===e.gameTypeId||6===e.gameTypeId||7===e.gameTypeId})})}return t(e,[{key:"ngOnInit",value:function(){}},{key:"updatePayout",value:function(e,t,n){var i=this;n>10?m().fire({position:"top-end",icon:"error",title:"Invalid multiplexer",showConfirmButton:!1,timer:3e3}):m().fire({title:"Confirmation",text:"Do you sure to update payout?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(function(o){if(o.isConfirmed){var r=[];r.push({gameTypeId:e,newPayout:t,multiplexer:n}),i.gameTypeService.updatePayout(r).subscribe(function(e){1===e.success?m().fire({position:"top-end",icon:"success",title:"Payout updated",showConfirmButton:!1,timer:1e3}):m().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},function(e){console.log("data saving error",e)})}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(l.u),d.Y36(y),d.Y36(T.e))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-payout-setting"]],decls:25,vars:1,consts:[[1,"container","pt-5"],[1,"table","table-bordered","table-sm",2,"border","none !important"],["scope","colgroup","colspan","6",1,"text-center"],["mat-sort-header","terminalName"],["mat-sort-header","pin"],["mat-sort-header","balance"],["mat-sort-header","stockistName"],[4,"ngFor","ngForOf"],["floatLabel","never"],["type","number","name","payout","matInput","","placeholder","payout","required","",3,"disabled","value","ngModel","ngModelChange"],[1,"offset-5"],["mat-raised-button","","color","primary","mat-stroked-button","",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"table",1),d.TgZ(2,"thead"),d.TgZ(3,"tr"),d.TgZ(4,"th",2),d._uU(5,"Set Payout"),d.qZA(),d.qZA(),d.TgZ(6,"tr"),d.TgZ(7,"th"),d._uU(8,"Sl. No."),d.qZA(),d.TgZ(9,"th",3),d._uU(10,"Game name"),d.qZA(),d.TgZ(11,"th",4),d._uU(12,"MRP"),d.qZA(),d.TgZ(13,"th",5),d._uU(14,"Winning Price"),d.qZA(),d.TgZ(15,"th",5),d._uU(16,"Commission"),d.qZA(),d.TgZ(17,"th",6),d._uU(18,"Payout"),d.qZA(),d.TgZ(19,"th",6),d._uU(20,"Multiplexer"),d.qZA(),d.TgZ(21,"th",6),d._uU(22,"Save"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"tbody"),d.YNc(24,q,21,11,"tr",7),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(24),d.Q6J("ngForOf",t.gameTypes))},directives:[a.sg,Z.KE,h.wV,v.Nt,h.Fj,h.Q7,h.JJ,h.On,A.lW],styles:[""]}),e}()}],I=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[u.Bz.forChild(b)],u.Bz]}),e}(),w=o(2789),C=o(5396),x=o(7441),_=o(5480),P=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.ez,I,w.p0,C.rP,x.LD,h.u5,h.UX,v.c,_.q]]}),e}()}}])}();