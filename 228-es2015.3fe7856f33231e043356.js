"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[228],{5480:function(e,t,o){o.d(t,{q:function(){return a}});var n=o(1095),i=o(9983),r=o(7716);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[n.ot,i.c]}),e})()},6228:function(e,t,o){o.r(t),o.d(t,{PayoutSettingModule:function(){return C}});var n=o(8583),i=o(3423),r=o(1068),a=o(2340),u=o(8259),p=o.n(u),s=o(7716),c=o(2567),m=o(1841),d=o(4889);let g=(()=>{class e{constructor(e,t){this.http=e,this.errorService=t,this.BASE_API_URL=a.N.BASE_API_URL,this.gameTypes=[]}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(m.eN),s.LFG(d.T))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=o(3535),T=o(8295),y=o(3679),Z=o(9983),h=o(1095);function f(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s.TgZ(12,"mat-form-field",8),s.TgZ(13,"input",9),s.NdJ("ngModelChange",function(e){return t.$implicit.payout=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"td"),s.TgZ(15,"mat-form-field",8),s.TgZ(16,"input",9),s.NdJ("ngModelChange",function(e){return t.$implicit.multiplexer=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"td"),s.TgZ(18,"div",10),s.TgZ(19,"button",11),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().updatePayout(t.gameTypeId,t.payout,t.multiplexer)}),s._uU(20,"Save"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,o=t.index;s.xp6(2),s.Oqu(o+1),s.xp6(2),s.Oqu(1!=e.gameTypeId?2!=e.gameTypeId?5!=e.gameTypeId?e.gameTypeName:"Double (Triple Chance)":"Triple (Triple Chance)":"Triple Chance"),s.xp6(2),s.Oqu(e.mrp),s.xp6(2),s.Oqu(e.winningPrice),s.xp6(2),s.Oqu(e.commission),s.xp6(3),s.Q6J("disabled",2==e.gameTypeId||5==e.gameTypeId||8==e.gameTypeId||9==e.gameTypeId)("value",e.payout)("ngModel",e.payout),s.xp6(3),s.Q6J("disabled",2==e.gameTypeId||5==e.gameTypeId||8==e.gameTypeId||9==e.gameTypeId)("value",e.multiplexer)("ngModel",e.multiplexer)}}const A=[{path:"",canActivate:[r.m],component:(()=>{class e{constructor(e,t,o){this.gameTypeService=e,this.payoutSettingService=t,this.authService=o,this.isProduction=a.N.production,this.showDevArea=!1,this.gameTypes=[],this.saveButton=!1,this.displayedColumns=["position","gameTypeName","mrp","winningPrice","commission","payout"],this.gameTypes=this.gameTypeService.getGameType(),this.gameTypeService.getGameTypeListener().subscribe(e=>{this.gameTypes=e,this.gameTypes=this.gameTypes.filter(e=>1===e.gameTypeId||3===e.gameTypeId||4===e.gameTypeId||6===e.gameTypeId||7===e.gameTypeId)})}ngOnInit(){}updatePayout(e,t,o){o>10?p().fire({position:"top-end",icon:"error",title:"Invalid multiplexer",showConfirmButton:!1,timer:3e3}):p().fire({title:"Confirmation",text:"Do you sure to update payout?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(n=>{if(n.isConfirmed){const n=[];n.push({gameTypeId:e,newPayout:t,multiplexer:o}),this.gameTypeService.updatePayout(n).subscribe(e=>{1===e.success?p().fire({position:"top-end",icon:"success",title:"Payout updated",showConfirmButton:!1,timer:1e3}):p().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},e=>{console.log("data saving error",e)})}})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.u),s.Y36(g),s.Y36(l.e))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-payout-setting"]],decls:25,vars:1,consts:[[1,"container","pt-5"],[1,"table","table-bordered","table-sm",2,"border","none !important"],["scope","colgroup","colspan","6",1,"text-center"],["mat-sort-header","terminalName"],["mat-sort-header","pin"],["mat-sort-header","balance"],["mat-sort-header","stockistName"],[4,"ngFor","ngForOf"],["floatLabel","never"],["type","number","name","payout","matInput","","placeholder","payout","required","",3,"disabled","value","ngModel","ngModelChange"],[1,"offset-5"],["mat-raised-button","","color","primary","mat-stroked-button","",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"table",1),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th",2),s._uU(5,"Set Payout"),s.qZA(),s.qZA(),s.TgZ(6,"tr"),s.TgZ(7,"th"),s._uU(8,"Sl. No."),s.qZA(),s.TgZ(9,"th",3),s._uU(10,"Game name"),s.qZA(),s.TgZ(11,"th",4),s._uU(12,"MRP"),s.qZA(),s.TgZ(13,"th",5),s._uU(14,"Winning Price"),s.qZA(),s.TgZ(15,"th",5),s._uU(16,"Commission"),s.qZA(),s.TgZ(17,"th",6),s._uU(18,"Payout"),s.qZA(),s.TgZ(19,"th",6),s._uU(20,"Multiplexer"),s.qZA(),s.TgZ(21,"th",6),s._uU(22,"Save"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(23,"tbody"),s.YNc(24,f,21,11,"tr",7),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(24),s.Q6J("ngForOf",t.gameTypes))},directives:[n.sg,T.KE,y.wV,Z.Nt,y.Fj,y.Q7,y.JJ,y.On,h.lW],styles:[""]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.Bz.forChild(A)],i.Bz]}),e})();var v=o(2789),I=o(5396),b=o(7441),x=o(5480);let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,q,v.p0,I.rP,b.LD,y.u5,y.UX,Z.c,x.q]]}),e})()}}]);