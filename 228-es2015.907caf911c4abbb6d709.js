"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[228],{5480:function(e,t,o){o.d(t,{q:function(){return r}});var i=o(1095),n=o(9983),a=o(7716);let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[i.ot,n.c]}),e})()},6228:function(e,t,o){o.r(t),o.d(t,{PayoutSettingModule:function(){return w}});var i=o(8583),n=o(3423),a=o(1068),r=o(2340),p=o(8259),u=o.n(p),s=o(7716),c=o(2567),l=o(1841),m=o(4889);let g=(()=>{class e{constructor(e,t){this.http=e,this.errorService=t,this.BASE_API_URL=r.N.BASE_API_URL,this.gameTypes=[]}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(l.eN),s.LFG(m.T))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=o(3535),T=o(8295),y=o(3679),f=o(9983),h=o(7441),Z=o(1095),A=o(2458);function q(e,t){if(1&e&&(s.TgZ(0,"mat-option",13),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function v(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s.TgZ(6,"mat-form-field",6),s.TgZ(7,"input",7),s.NdJ("ngModelChange",function(e){return t.$implicit.payout=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"td"),s.TgZ(9,"mat-form-field",8),s.TgZ(10,"mat-label"),s._uU(11,"Multiplier"),s.qZA(),s.TgZ(12,"mat-select",9),s.NdJ("ngModelChange",function(e){return t.$implicit.multiplexer=e}),s.YNc(13,q,2,2,"mat-option",10),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"td"),s.TgZ(15,"div",11),s.TgZ(16,"button",12),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().updatePayout(t.gameTypeId,t.payout,t.multiplexer)}),s._uU(17,"Save"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,o=t.index,i=s.oxw();s.xp6(2),s.Oqu(o+1),s.xp6(2),s.Oqu(1!=e.gameTypeId?2!=e.gameTypeId?5!=e.gameTypeId?e.gameTypeName:"Double (Triple Chance)":"Triple (Triple Chance)":"Triple Chance"),s.xp6(3),s.Q6J("disabled",2==e.gameTypeId||5==e.gameTypeId||8==e.gameTypeId||9==e.gameTypeId)("value",e.payout)("ngModel",e.payout),s.xp6(5),s.Q6J("ngModel",e.multiplexer),s.xp6(1),s.Q6J("ngForOf",i.multiplexer)}}const I=[{path:"",canActivate:[a.m],component:(()=>{class e{constructor(e,t,o){this.gameTypeService=e,this.payoutSettingService=t,this.authService=o,this.isProduction=r.N.production,this.showDevArea=!1,this.gameTypes=[],this.multiplexer=[1,2,3,4,5,6,7,8,9,10],this.saveButton=!1,this.displayedColumns=["position","gameTypeName","mrp","winningPrice","commission","payout"],this.gameTypes=this.gameTypeService.getGameType(),this.gameTypeService.getGameTypeListener().subscribe(e=>{this.gameTypes=e,this.gameTypes=this.gameTypes.filter(e=>1===e.gameTypeId||3===e.gameTypeId||4===e.gameTypeId||6===e.gameTypeId||7===e.gameTypeId)}),this.gameTypes=this.gameTypes.filter(e=>1===e.gameTypeId||3===e.gameTypeId||4===e.gameTypeId||6===e.gameTypeId||7===e.gameTypeId)}ngOnInit(){}updatePayout(e,t,o){o>10?u().fire({position:"top-end",icon:"error",title:"Invalid multiplexer",showConfirmButton:!1,timer:3e3}):u().fire({title:"Confirmation",text:"Do you sure to update payout?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(i=>{if(i.isConfirmed){const i=[];i.push({gameTypeId:e,newPayout:t,multiplexer:o}),this.gameTypeService.updatePayout(i).subscribe(e=>{1===e.success?u().fire({position:"top-end",icon:"success",title:"Payout updated",showConfirmButton:!1,timer:1e3}):u().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},e=>{console.log("data saving error",e)})}})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.u),s.Y36(g),s.Y36(d.e))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-payout-setting"]],decls:19,vars:1,consts:[[1,"container","pt-5"],[1,"table","table-bordered","table-sm",2,"border","none !important"],["scope","colgroup","colspan","6",1,"text-center"],["mat-sort-header","terminalName"],["mat-sort-header","stockistName"],[4,"ngFor","ngForOf"],["floatLabel","never"],["type","number","name","payout","matInput","","placeholder","payout","required","",3,"disabled","value","ngModel","ngModelChange"],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"offset-5"],["mat-raised-button","","color","primary","mat-stroked-button","",3,"click"],[3,"value"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"table",1),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th",2),s._uU(5,"Set Payout"),s.qZA(),s.qZA(),s.TgZ(6,"tr"),s.TgZ(7,"th"),s._uU(8,"Sl. No."),s.qZA(),s.TgZ(9,"th",3),s._uU(10,"Game name"),s.qZA(),s.TgZ(11,"th",4),s._uU(12,"Payout"),s.qZA(),s.TgZ(13,"th",4),s._uU(14,"Multiplexer"),s.qZA(),s.TgZ(15,"th",4),s._uU(16,"Save"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"tbody"),s.YNc(18,v,18,7,"tr",5),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(18),s.Q6J("ngForOf",t.gameTypes))},directives:[i.sg,T.KE,y.wV,f.Nt,y.Fj,y.Q7,y.JJ,y.On,T.hX,h.gD,Z.lW,A.ey],styles:[""]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.Bz.forChild(I)],n.Bz]}),e})();var x=o(2789),C=o(5396),S=o(5480);let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,b,x.p0,C.rP,h.LD,y.u5,y.UX,f.c,S.q]]}),e})()}}]);