!function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[766],{2766:function(e,a,n){n.r(a),n.d(a,{SuperStockistReportModule:function(){return P}});var i,u=n(8583),s=n(3423),c=n(2396),l=n(2340),d=n(8259),p=n.n(d),Z=n(7716),g=n(5304),h=n(8307),m=n(9765),f=n(205),A=n(1841),b=((i=function(){function e(t){r(this,e),this.http=t,this.BASE_API_URL=l.N.BASE_API_URL,this.customerSaleReportRecords=[],this.customerSaleReportSubject=new m.xQ,this.barcodeReportRecords=[],this.barcodeReportSubject=new m.xQ}return o(e,[{key:"getCustomerSaleReportListener",value:function(){return this.customerSaleReportSubject.asObservable()}},{key:"getCustomerSaleReportRecords",value:function(){return t(this.customerSaleReportRecords)}},{key:"getBarcodeReportListener",value:function(){return this.barcodeReportSubject.asObservable()}},{key:"getBarcodeReportRecords",value:function(){return t(this.barcodeReportRecords)}},{key:"customerSaleReportByDate",value:function(e,r,a){var o=this;return this.http.post(this.BASE_API_URL+"/superStockist/customerSaleReports",{startDate:e,endDate:r,userID:a}).pipe((0,g.K)(this.handleError),(0,h.b)(function(e){e.data&&(o.customerSaleReportRecords=e.data,o.customerSaleReportSubject.next(t(o.customerSaleReportRecords)))}))}},{key:"barcodeReportByDate",value:function(e,r,a){var o=this;return this.http.post(this.BASE_API_URL+"/superStockist/barcodeReportByDate",{startDate:e,endDate:r,userID:a}).pipe((0,g.K)(this.handleError),(0,h.b)(function(e){e.data&&(o.barcodeReportRecords=e.data,o.barcodeReportSubject.next(t(o.barcodeReportRecords)))}))}},{key:"handleError",value:function(t){return t.error.message.includes("1062")?(0,f._)("Record already exists"):(0,f._)(t.error.message)}}]),e}()).\u0275fac=function(t){return new(t||i)(Z.LFG(A.eN))},i.\u0275prov=Z.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i),q=n(5939),T=n(8295),_=n(9983),R=n(3220),S=n(3679),v=n(1095),y=n(1494),U=n(9925);function D(t,e){if(1&t&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.TgZ(9,"td"),Z._uU(10),Z.qZA(),Z.TgZ(11,"td"),Z._uU(12),Z.qZA(),Z.qZA()),2&t){var r=e.$implicit;Z.xp6(2),Z.Oqu(r.terminal_pin),Z.xp6(2),Z.Oqu(r.stokiest_name),Z.xp6(2),Z.Oqu(r.total),Z.xp6(2),Z.Oqu(r.commission),Z.xp6(2),Z.Oqu(r.prize_value),Z.xp6(2),Z.Oqu(r.total-r.commission-r.prize_value)}}function k(t,e){1&t&&(Z.TgZ(0,"div",29),Z.TgZ(1,"h1"),Z._uU(2,"No Data"),Z.qZA(),Z.qZA())}function x(t,e){if(1&t&&(Z.TgZ(0,"div"),Z.TgZ(1,"table",25),Z.TgZ(2,"thead"),Z.TgZ(3,"tr"),Z.TgZ(4,"th",17),Z._uU(5,"Terminal Id"),Z.qZA(),Z.TgZ(6,"th",17),Z._uU(7,"Stokiest Name"),Z.qZA(),Z.TgZ(8,"th",26),Z._uU(9,"Total"),Z.qZA(),Z.TgZ(10,"th",27),Z._uU(11,"Commission"),Z.qZA(),Z.TgZ(12,"th",21),Z._uU(13,"Prize"),Z.qZA(),Z.TgZ(14,"th",28),Z._uU(15,"NTP"),Z.qZA(),Z._UZ(16,"th"),Z.qZA(),Z.qZA(),Z.TgZ(17,"tbody"),Z.YNc(18,D,13,6,"tr",22),Z.TgZ(19,"tr"),Z._UZ(20,"td"),Z.TgZ(21,"td"),Z._uU(22,"Grand Total"),Z.qZA(),Z.TgZ(23,"td"),Z._uU(24),Z.qZA(),Z._UZ(25,"td"),Z._UZ(26,"td"),Z._UZ(27,"td"),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(28,k,3,0,"div",23),Z.qZA()),2&t){var r=Z.oxw();Z.xp6(18),Z.Q6J("ngForOf",r.customerSaleReportRecords),Z.xp6(6),Z.Oqu(r.totalAmount),Z.xp6(4),Z.Q6J("ngIf",0==r.customerSaleReportRecords.length)}}function M(t,e){if(1&t&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.TgZ(9,"td"),Z._uU(10),Z.qZA(),Z.TgZ(11,"td"),Z._uU(12),Z.qZA(),Z.TgZ(13,"td"),Z._uU(14),Z.qZA(),Z.TgZ(15,"td"),Z._uU(16),Z.qZA(),Z.TgZ(17,"td"),Z._uU(18),Z.qZA(),Z.TgZ(19,"td"),Z.TgZ(20,"a",30),Z._UZ(21,"i",31),Z.qZA(),Z.qZA(),Z.qZA()),2&t){var r=e.$implicit;Z.xp6(2),Z.Oqu(r.barcode_number),Z.xp6(2),Z.Oqu(r.draw_time),Z.xp6(2),Z.Oqu(r.terminal_pin),Z.xp6(2),Z.Oqu("SINGLE DOUBLE TRIPLE"==r.game_name?"Triple chance":r.game_name),Z.xp6(2),Z.Oqu(r.ticket_taken_time),Z.xp6(2),Z.Oqu(r.total_quantity),Z.xp6(2),Z.Oqu(r.amount),Z.xp6(2),Z.Oqu(r.prize_value>0&&0==r.is_claimed?r.prize_value:"--"),Z.xp6(2),Z.Oqu(r.prize_value>0&&1==r.is_claimed?r.prize_value:"--")}}function w(t,e){1&t&&(Z.TgZ(0,"div",29),Z.TgZ(1,"h1"),Z._uU(2,"No Data"),Z.qZA(),Z.qZA())}var O=[{path:"",canActivate:[c.c],component:function(){var t=function(){function t(e){r(this,t),this.superStockistReportService=e,this.thisYear=(new Date).getFullYear(),this.thisMonth=(new Date).getMonth(),this.thisDay=(new Date).getDate(),this.startDate=new Date(this.thisYear,this.thisMonth,this.thisDay),this.isProduction=l.N.production,this.showDevArea=!1,this.barcodeReportRecords=[],this.customerSaleReportRecords=[],this.StartDateFilter=this.startDate,this.EndDateFilter=this.startDate,this.pipe=new u.uU("en-US"),this.totalAmount=0,this.columnNumber=4,this.selectedReport="0",this.userData=JSON.parse(localStorage.getItem("user"))}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.searchByDateTab1(),this.searchByDateTab2(),this.barcodeReportRecords=this.superStockistReportService.getBarcodeReportRecords(),this.superStockistReportService.getBarcodeReportListener().subscribe(function(e){t.barcodeReportRecords=e}),this.customerSaleReportRecords=this.superStockistReportService.getCustomerSaleReportRecords(),this.superStockistReportService.getCustomerSaleReportListener().subscribe(function(e){t.customerSaleReportRecords=e;var r=0;t.customerSaleReportRecords.forEach(function(t){r+=Number(t.total)}),t.totalAmount=r})}},{key:"searchByDateTab1",value:function(){p().fire({title:"Please Wait !",html:"loading ...",allowOutsideClick:!1,didOpen:function(){p().showLoading()}});var t=this.pipe.transform(this.StartDateFilter,"yyyy-MM-dd"),e=this.pipe.transform(this.EndDateFilter,"yyyy-MM-dd");this.superStockistReportService.customerSaleReportByDate(t,e,this.userData.userId).subscribe(function(t){t.data&&p().close()})}},{key:"searchByDateTab2",value:function(){p().fire({title:"Please Wait !",html:"loading ...",allowOutsideClick:!1,didOpen:function(){p().showLoading()}});var t=this.pipe.transform(this.StartDateFilter,"yyyy-MM-dd"),e=this.pipe.transform(this.EndDateFilter,"yyyy-MM-dd");this.superStockistReportService.barcodeReportByDate(t,e,this.userData.userId).subscribe(function(t){t.data&&p().close()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Z.Y36(b))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-super-stockist-report"]],decls:69,vars:19,consts:[[1,"mt-2","mr-3","ml-3"],["label","Customer sales report"],[1,"pt-1","d-flex"],[1,"col-3"],["appearance","fill"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"ngModel","ngModelChange"],["picker",""],["picker1",""],["mat-button","","color","accent",2,"font-size","20px",3,"click"],[4,"ngIf"],["label","Barcode report"],[1,"text-center",2,"align-content","center","align-items","center","text-align","center"],["matSort","",1,"ml-4","col-11","table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","barcode_number"],["mat-sort-header","draw_time"],["mat-sort-header","terminal_pin"],["mat-sort-header","ticket_taken_time"],["mat-sort-header","total_quantity"],["mat-sort-header","amount"],["mat-sort-header","prize_value"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["label","Draw wise report"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","total"],["mat-sort-header","commission"],["mat-sort-header","ntp"],[1,"text-center"],["color","info","mdbWavesEffect","",1,"waves-effect","mb-4"],[1,"bi","bi-info-square-fill"]],template:function(t,e){if(1&t&&(Z.TgZ(0,"mat-tab-group",0),Z.TgZ(1,"mat-tab",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"mat-form-field",4),Z.TgZ(5,"mat-label"),Z._uU(6,"Start date"),Z.qZA(),Z.TgZ(7,"input",5),Z.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),Z.qZA(),Z._UZ(8,"mat-datepicker-toggle",6),Z.TgZ(9,"mat-datepicker",7,8),Z.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(11,"div",3),Z.TgZ(12,"mat-form-field",4),Z.TgZ(13,"mat-label"),Z._uU(14,"End date"),Z.qZA(),Z.TgZ(15,"input",5),Z.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),Z.qZA(),Z._UZ(16,"mat-datepicker-toggle",6),Z.TgZ(17,"mat-datepicker",7,9),Z.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(19,"button",10),Z.NdJ("click",function(){return e.searchByDateTab1()}),Z._uU(20,"Search"),Z.qZA(),Z.qZA(),Z.YNc(21,x,29,3,"div",11),Z.qZA(),Z.TgZ(22,"mat-tab",12),Z.TgZ(23,"div",2),Z.TgZ(24,"div",3),Z.TgZ(25,"mat-form-field",4),Z.TgZ(26,"mat-label"),Z._uU(27,"Start date"),Z.qZA(),Z.TgZ(28,"input",5),Z.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),Z.qZA(),Z._UZ(29,"mat-datepicker-toggle",6),Z.TgZ(30,"mat-datepicker",7,8),Z.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(32,"div",3),Z.TgZ(33,"mat-form-field",4),Z.TgZ(34,"mat-label"),Z._uU(35,"End date"),Z.qZA(),Z.TgZ(36,"input",5),Z.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),Z.qZA(),Z._UZ(37,"mat-datepicker-toggle",6),Z.TgZ(38,"mat-datepicker",7,9),Z.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(40,"button",10),Z.NdJ("click",function(){return e.searchByDateTab2()}),Z._uU(41,"Search"),Z.qZA(),Z.qZA(),Z.TgZ(42,"div",13),Z.TgZ(43,"table",14),Z.TgZ(44,"thead"),Z.TgZ(45,"tr"),Z.TgZ(46,"th",15),Z._uU(47,"Barcode"),Z.qZA(),Z.TgZ(48,"th",16),Z._uU(49,"Draw time"),Z.qZA(),Z.TgZ(50,"th",17),Z._uU(51,"Terminal"),Z.qZA(),Z.TgZ(52,"th",17),Z._uU(53,"Game"),Z.qZA(),Z.TgZ(54,"th",18),Z._uU(55,"Ticket take time"),Z.qZA(),Z.TgZ(56,"th",19),Z._uU(57,"Quantity"),Z.qZA(),Z.TgZ(58,"th",20),Z._uU(59,"Amount"),Z.qZA(),Z.TgZ(60,"th",21),Z._uU(61,"UnClaimed Amount"),Z.qZA(),Z.TgZ(62,"th",21),Z._uU(63,"Claimed Amount"),Z.qZA(),Z._UZ(64,"th"),Z.qZA(),Z.qZA(),Z.TgZ(65,"tbody"),Z.YNc(66,M,22,9,"tr",22),Z.qZA(),Z.qZA(),Z.YNc(67,w,3,0,"div",23),Z.qZA(),Z.qZA(),Z._UZ(68,"mat-tab",24),Z.qZA()),2&t){var r=Z.MAs(10),a=Z.MAs(18);Z.xp6(7),Z.Q6J("matDatepicker",r)("ngModel",e.StartDateFilter),Z.xp6(1),Z.Q6J("for",r),Z.xp6(1),Z.Q6J("ngModel",e.StartDateFilter),Z.xp6(6),Z.Q6J("matDatepicker",a)("ngModel",e.EndDateFilter),Z.xp6(1),Z.Q6J("for",a),Z.xp6(1),Z.Q6J("ngModel",e.EndDateFilter),Z.xp6(4),Z.Q6J("ngIf","0"==e.selectedReport),Z.xp6(7),Z.Q6J("matDatepicker",r)("ngModel",e.StartDateFilter),Z.xp6(1),Z.Q6J("for",r),Z.xp6(1),Z.Q6J("ngModel",e.StartDateFilter),Z.xp6(6),Z.Q6J("matDatepicker",a)("ngModel",e.EndDateFilter),Z.xp6(1),Z.Q6J("for",a),Z.xp6(1),Z.Q6J("ngModel",e.EndDateFilter),Z.xp6(28),Z.Q6J("ngForOf",e.barcodeReportRecords),Z.xp6(1),Z.Q6J("ngIf",0==e.barcodeReportRecords.length)}},directives:[q.SP,q.uX,T.KE,T.hX,_.Nt,R.hl,S.Fj,S.JJ,S.On,R.nW,T.R9,R.Mq,v.lW,u.O5,y.YE,y.nU,u.sg,U.b6],styles:[""]}),t}()}],J=function(){var t=o(function t(){r(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[s.Bz.forChild(O)],s.Bz]}),t}(),E=n(5480),F=n(5566),N=n(7441),B=n(3738),C=n(5396),I=n(9870),Q=n(4820),L=n(346),j=n(2458),z=n(2542),P=function(){var t=o(function t(){r(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[u.ez,J,q.Nh,E.q,F.o9,N.LD,B.QW,S.u5,S.UX,C.rP,y.JX,I.aE,I.bz,U.At,Q.UU,L.g,R.FA,_.c,S.u5,j.XK,j.si,v.ot,z.vV,T.lN]]}),t}()}}])}();